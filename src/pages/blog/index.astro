---
import BaseHead from "../../components/BaseHead.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";
import { getCollection } from "astro:content";
import FormattedDate from "../../components/FormattedDate.astro";
import Layout from "../../layouts/Layout.astro";


const permalink = `${Astro.site.href}blog`;

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);

---

<Layout permalink={permalink} current="blog">
  <div class="container max-w-7xl mx-auto px-4">
  <section>
    <ul>
      {posts.map((post, index) => {
        const href = `/blog/${post.id.split('.').shift()}`;
        return (
          
          <li>
            <a href={href}>
              {/* <img width={720} height={360} src={post.data.heroImage} alt="" /> */}
              <h4 class="title">{post.data.title}</h4>
              <p class="date">
                <FormattedDate date={post.data.publishDate}/>
              </p>
            </a>
          </li>
        )
      })}
    </ul>
  </section>
</div>
</Layout>
